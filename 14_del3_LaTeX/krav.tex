\chapter{Krav[2]}\label{chap:krav}

\section{Krav overblik}\label{sec:krav:kravOverblik}
Kravene til CDIO-opgave del 3 bliver behandlet gennem UP-modellen for en kravspecifikation som præsenteret i kursus 02313. Hvor der er uklarheder i den udleverede tekst er de tolket efter bedste evne. Uklarheder i beskrivelsen bør naturligvis afklares med kunden i et virkeligt projekt. Kilde til dette afsnit er \cite{CDIOdel3}, som er opgavebeskrivelsen for CDIO-opgave del 3.

\subsection{Formål}\label{sec:krav:formål}
Kendskab til arv og polymorfisme skal demonstreres gennem implementering af fields i et matadorspil. Yderligere skal det demonstreres at gruppen kan anvende arrays i forbindelse med instanser af egne typer. Derudover skal det illustreres at der kan arbejdes på et mere abstrakt niveau gennem udarbejdelse af en domænemodel over hele spillet. 

\subsection{Specificering af krav}\label{sec:krav:kravSpec}
Udfra den udleverede opgavebeskrivelse \cite{CDIOdel3} er der udarbejdet en længere liste med specificering af kravene. De områder der fremgår klare og utvetydige i opgavebeskrivelsen er blot overført, mens andre dele er uddybet og afklaret. Da gruppen forsøger at arbejde efter UP modellen og denne er Use Case driven, er de dele af kravene der kunne overføres til Use Case's indført i \vref{sec:krav:funkKrav:UC1} og \vref{sec:krav:funkKrav:UC2}. De krav der ikke kunne overføres til Use Case's er placeret i \vref{chap:suppSpec} som er UP's artefakt til krav der ikke kan placeres i Use Case's.
 
\subsection{Funktionelle krav}\label{sec:krav:funkKrav}
\subsubsection{Use Case Diagram}\label{sec:krav:funkKrav:useCaseDia}
Til udarbejdelsen af et Use Case Diagram er identificeret 4 Use Cases. 

\begin{itemize}
\item startGame
\item rollDie
\item optToBuy
\item landOnField
\end{itemize}

Spillet interagerer med to aktører, spilleren og den udleverede GUI. Således fremgår begge disse af Use Case Diagrammet i \vref{fig:UseCaseDia}.

\begin{figure}
\caption{Usecasediagram for spillet.}\label{fig:UseCaseDia}
\centering
\input{tikzUseCase.tex}
\end{figure}

\subsubsection{Use Case beskrivelser}\label{sec:krav:funkKrav:useCaseBeskriv}
Der henvises til CDIO-opgave del 2 for de to Use Case's: \textit{startGame} og \textit{rollDie}. I \vref{sec:krav:funkKrav:UC1} behandles Use Case UC1 - optToBuy og UC2 - landOnField i \vref{sec:krav:funkKrav:UC2}.

\subsubsection{Use Case UC1 : optToBuy}\label{sec:krav:funkKrav:UC1}

\paragraph{Primær aktør:} 
Spiller

\paragraph{Beskrivelse af aktør:} 
Spiller, en person der interagerer med systemet gennem konsol dialog.

\paragraph{Ansvar:} 
Skal handle ud fra om han vil købe det field han er landet på. Dette gøres via konsol dialog.
 
\paragraph{Prekonditioner:} 
Spilleren er landet på et felt der ikke ejes af nogen af de andre spillere og spilleren har penge nok på sin konto til at kunne betale for feltet.

\paragraph{Postkondition/Succeskriterie:}
Spilleren foretager positivt valg gennem konsol dialog. Hvis han ønsker at købe feltet registreres dette som ejet af spilleren og penge trækkes fra hans konto. Turen overgår til næste spiller.

\paragraph{Main Success Scenario:} 

\begin{enumerate}
\item Konsollen spørger spiller om han ønsker at købe feltet han er landet på. Konsollen oplyser om mulige svar.
\item Spilleren svarer ved at indtaste positivt svar i konsollen.
\item Systemet trækker et beløb svarende til købsprisen fra spillerens konto.
\item Systemet registrerer at feltet nu ejes af den pågældende spiller.
\item Konsollen oplyser spilleren om at han har købt feltet.
\item Konsollen oplyser om at det er næste spillers tur
\end{enumerate} 

\begin{enumerate}[2a]
\item Spiller ønsker ikke at købe felt.
	\begin{enumerate}[1.]
	\item Spilleren indtaster negativt svar 
	\item Konsollen oplyser om at det er næste spillers tur
	\end{enumerate}
\end{enumerate}

\subsubsection{Use Case UC2 : landOnField}\label{sec:krav:funkKrav:UC2}

\paragraph{Primær aktør:} 
System

\paragraph{Beskrivelse af aktør:} 
System foretager opgaver i forbindelse med at spiller lander på et felt.

\paragraph{Ansvar:} 
Skal anvende korrekt algoritme i forhold til det felt der er landet på.
 
\paragraph{Prekonditioner:} 
Spilleren er landet på et felt.

\paragraph{Postkondition/Succeskriterie:}
System har enten foretaget en transaktion eller intet gjort afhængig af hvad reglerne foreskriver for det enkelte felt.

\paragraph{Main Success Scenario:} 

\begin{enumerate}
\item Spiller lander på felttypen Street, Shipping eller Brewery.
\item System finder ud af at spiller ikke ejer feltet.
\item System finder ud af at en anden spiller ejer feltet.
\item System trækker leje fra spillers konto og overfører til ejers konto.
\item System giver turen videre til næste spiller
\end{enumerate}
Alternative forløb:
\begin{enumerate}[1a]
\item Spiller lander på felttypen Refuge.
	\begin{enumerate}[1.]
	\item System overfører bonus til spillers konto
	\item Tilbage til MSS: 5
	\end{enumerate}
\end{enumerate} 
\fixme{1a står som aa. Jeg ved ikke hvad der går galt}
\begin{enumerate}[1b]
\item Spiller lander på felttypen Tax.
	\begin{enumerate}[1.]
	\item System trækker tax fra spillers konto 
	\item Tilbage til MSS: 5
	\end{enumerate}
\end{enumerate} 

\begin{enumerate}[2a]
\item System finder ud af at spiller ejer feltet.
	\begin{enumerate}[1.]
	\item System foretager ingen transaktioner
	\item Tilbage til MSS: 5
	\end{enumerate}
\end{enumerate} 

\begin{enumerate}[3a]
\item System finder ud af at ingen ejer feltet.
	\begin{enumerate}[1.]
	\item System foretager ingen transaktioner
	\item Tilbage til MSS: 5
	\end{enumerate}
\end{enumerate} 
 
\begin{enumerate}[4a]
\item Spiller har ikke penge nok på konto til at betale leje.
	\begin{enumerate}[1.]
	\item System sætter spiller som loser
	\item Tilbage til MSS: 5
	\end{enumerate}
\end{enumerate} 


 
 
 
 







