\chapter{krav}\label{chap:krav}

\section{Krav overblik}\label{sec:krav:kravOverblik}
Kravene til CDIO-opgave del 3 bliver behandlet gennem UP-modellen for en kravspecifikation som præsenteret i kursus 02313. Hvor der er uklarheder i den udleverede tekst er de tolket efter bedste evne. Uklarheder i beskrivelsen bør naturligvis afklares med kunden i et virkeligt projekt. Kilde til dette afsnit er [Nyb12], som er opgavebeskrivelsen for CDIO-opgave del 3.

\subsection{Formål}\label{sec:krav:formål}
Kendskab til arv og polymorfisme skal demonstreres gennem implementering af fields i et matadorspil. Yderligere skal det demonstreres at gruppen kan anvende arrays i forbindelse med instanser af egne typer. Derudover skal det illustreres at der kan arbejdes på et mere abstrakt niveau gennem udarbejdelse af en domænemodel over hele spillet. 

\subsection{Specificering af krav}\label{sec:krav:kravSpec}
Udfra den udleverede opgavebeskrivelse \cite{Nyb12} \fixme{henvisning?} er der udarbejdet følgende liste af opgaver. De områder der fremgår klart og utvetydige i opgavebeskrivelsen er blot overført til denne liste, mens andre dele er uddybet og afklaret.

\begin{enumerate}
\item \metode{toString} føjes til alle klasser
\item \klasse{Field} skal have attributterne \textit{number} og \textit{name} samt \metode{landOnField()} der skal tage \textit{Player} som argument.
\item \klasse{Refuge} skal have attribut \textit{bonus} (kontant beløb) som overføres til spiller hvis denne lander på feltet.
\item \klasser{Tax} skal have attribut \textit{tax} (kontant beløb) som fratrækkes spillerens konto hvis denne lander på feltet.
\item \klasse{Ownable} implementeres som abstrakt klasse der definerer alle felter der kan ejes. Hvis der landes på et felt tilhørende denne kategori kan spilleren enten købe feltet, hvis han har råd, såfremt feltet ikke allerede ejes af en anden spiller. Hvis en anden spiller ejer feltet betales leje til denne spiller.
\item \klasse{Street} simplificeres til kun at have en leje \fixme{hvad har vi gjort/gør vi her?}
\item Hvis der landes på \klasse{Shipping} betales der leje til ejeren af feltet alt efter hvor mange \klasse{Shipping}-felter (\textit{rederier} i formel) denne ejer. Lejen udregnes som $leje=2^{(rederier)}*500$.
\item Hvis der landes på \klasse{Brewery} betales der leje til ejeren udfra antallet af øjne i slaget der bragte ham til feltet (\textit{slag} i formel) samt hvor mange bryggerier denne ejer (\textit{bryggerier} i formel. Lejen udregnes som $leje=(slag)*(bryggerier)*100$.
\item Modificer CDIO-opgave del 2 så denne anvender det nye arveheiraki.
\item Deklarér klasserne \klasse{Field} og \klasse{Ownable} som abstrakte og deres metoder \metode{landOnField()} og \metode{rent()} skal ligeledes være abstrakte. Forklar hvilken betydning det har.
\item Lav et program  som indeholder et array af typen Field, som udskriver indholdet af hvert objekt i array’et. Du skal minimum oprette en instans af hver klasse.
\item Domænemodel skal fuldt udvikles og kommenteres.  
\item De beskrevne udvidelser blev implementeret i CDIO-opgave del 2 og er således stadig en del af systemet. 
\end{enumerate}
 
\subsection{Funktionelle krav}\label{sec:krav:funkKrav}
\subsubsection{Use Case Diagram}\label{sec:krav:funkKrav:useCaseDia}
Til udarbejdelsen af et Use Case Diagram er identificeret 3 Use Cases. 

\begin{itemize}
\item startGame
\item rollDie
\item optToBuy
\end{itemize}

Spillet interagerer med to aktører, spilleren og den udleverede GUI. Således fremgår begge disse af Use Case Diagram'et (\vref{use case diagram} \fixme{henvisning til use case diagram}.

\subsubsection{Use Case beskrivelser}\label{sec:krav:funkKrav:useCaseBeskriv}
Der henvises til CDIO-opgave del 2 for de to Use Case: \textit{startGame} og \textit{rollDie}. I \ref{sec:krav:funkKrav:UC1} behandles Use Case UC1 - optToBuy.

\subsubsection{Use Case UC1 : optToBuy}\label{sec:krav:funkKrav:UC1}

\paragraph{Primær aktør:} 
Spiller

\paragraph{Beskrivelse af aktør:} 
Spiller, en person der interagerer med systemet gennem konsol dialog.

\paragraph{Ansvar:} 
Skal handle ud fra om han vil købe det field han er landet på. Dette gøres via konsol dialog.
 
\paragraph{Prekonditioner:} 
Spilleren er landet på et felt der ikke ejes af nogen af de andre spillere og spilleren har penge nok på sin konto til at kunne betale for feltet.

\paragraph{Postkondition/Succeskriterie:}
Spilleren foretager positivt valg gennem konsol dialog. Hvis han ønsker at købe feltet registreres dette som ejet af spilleren og penge trækkes fra hans konto. Turen overgår til næste spiller.

\paragraph{Main Success Scenario:} 

\begin{enumerate}
\item Konsollen spørger spiller om han ønsker at købe feltet han er landet på. Konsollen oplyser om mulige svar.
\item Spilleren svarer ved at indtaste positivt svar i konsollen.
\item Systemet trækker et beløb svarende til købsprisen fra spillerens konto.
\item Systemet registrerer at feltet nu ejes af den pågældende spiller.
\item Konsollen oplyser spilleren om at han har købt feltet.
\item Konsollen oplyser om at det er næste spillers tur
\end{enumerate} 

\begin{enumerate}[2a]
\item Spiller ønsker ikke at købe felt.
	\begin{enumerate}[1.]
	\item Spilleren indtaster negativt svar 
	\item Konsollen oplyser om at det er næste spillers tur
	\end{enumerate}
\end{enumerate}








